<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="介绍常用的指标异动归因分析方法  分析过程指标异动归因分析的基本流程：  明确关注的核心指标，以及对应的业务目标 梳理相关的业务流程，明确可拆解的纵向、横向维度 纵向分析：对同一指标在不同时间里的发展变化进行分析 横向分析：对同一指标在同一时间里进行多维分析   纵向分析，定义异动，并发现异动 横向分析，拆解维度，定位异动的主要原因，发现业务的可优化点  异动检测按照时间等纵向维度观察指标变">
<meta property="og:type" content="article">
<meta property="og:title" content="Data Analysis | Attribution of Indicator Variation">
<meta property="og:url" content="https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html">
<meta property="og:site_name" content="wst">
<meta property="og:description" content="介绍常用的指标异动归因分析方法  分析过程指标异动归因分析的基本流程：  明确关注的核心指标，以及对应的业务目标 梳理相关的业务流程，明确可拆解的纵向、横向维度 纵向分析：对同一指标在不同时间里的发展变化进行分析 横向分析：对同一指标在同一时间里进行多维分析   纵向分析，定义异动，并发现异动 横向分析，拆解维度，定位异动的主要原因，发现业务的可优化点  异动检测按照时间等纵向维度观察指标变">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-01-28T05:11:55.000Z">
<meta property="article:modified_time" content="2025-06-18T09:28:59.302Z">
<meta property="article:author" content="wst">
<meta property="article:tag" content="Attribution">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>Data Analysis | Attribution of Indicator Variation</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
		<script type="text/x-mathjax-config">
		  MathJax.Hub.Config({
			tex2jax: {
			  skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
			  inlineMath: [['$','$']]
			}
		  });
		</script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
	
<meta name="generator" content="Hexo 7.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="目录"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="顶部" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" aria-label="下一篇" href="/Cartoon.html"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="返回顶部" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="分享文章" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">上一篇</span>
      <span id="i-next" class="info" style="display:none;">下一篇</span>
      <span id="i-top" class="info" style="display:none;">返回顶部</span>
      <span id="i-share" class="info" style="display:none;">分享文章</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&text=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&is_video=false&description=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Data Analysis | Attribution of Indicator Variation&body=Check out this article: https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&name=Data Analysis | Attribution of Indicator Variation&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&t=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">分析过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%8A%A8%E6%A3%80%E6%B5%8B"><span class="toc-number">2.</span> <span class="toc-text">异动检测</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%8A%A8%E6%9C%AC%E8%B4%A8"><span class="toc-number">3.</span> <span class="toc-text">异动本质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%AA%E5%90%91%E5%BD%92%E5%9B%A0"><span class="toc-number">4.</span> <span class="toc-text">横向归因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%80%89%E6%8B%A9"><span class="toc-number">5.</span> <span class="toc-text">方法选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%B4%E5%BA%A6%E5%BD%92%E5%9B%A0"><span class="toc-number">6.</span> <span class="toc-text">维度归因</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Delta%E6%B3%95"><span class="toc-number">6.1.</span> <span class="toc-text">Delta法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%94%E9%99%A4%E6%B3%95"><span class="toc-number">6.2.</span> <span class="toc-text">剔除法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E6%A0%87%E5%BD%92%E5%9B%A0"><span class="toc-number">7.</span> <span class="toc-text">指标归因</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E6%B3%95%E6%8C%87%E6%A0%87-Divisa%E5%88%86%E8%A7%A3%E6%B3%95"><span class="toc-number">7.1.</span> <span class="toc-text">乘法指标 - Divisa分解法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AMDI"><span class="toc-number">7.1.1.</span> <span class="toc-text">AMDI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LMDI"><span class="toc-number">7.1.2.</span> <span class="toc-text">LMDI</span></a></li></ol></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        Data Analysis | Attribution of Indicator Variation
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">wst</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2025-01-28T05:11:55.000Z" class="dt-published" itemprop="datePublished">2025-01-28</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/Data-Analysis/">Data Analysis</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/Attribution/" rel="tag">Attribution</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <span id="more"></span>

<blockquote>
<p>介绍常用的指标异动归因分析方法</p>
</blockquote>
<h2 id="分析过程"><a href="#分析过程" class="headerlink" title="分析过程"></a>分析过程</h2><p>指标异动归因分析的基本流程：</p>
<ol>
<li>明确关注的核心指标，以及对应的业务目标</li>
<li>梳理相关的业务流程，明确可拆解的纵向、横向维度<ul>
<li>纵向分析：对同一指标在不同时间里的发展变化进行分析</li>
<li>横向分析：对同一指标在同一时间里进行多维分析</li>
</ul>
</li>
<li>纵向分析，定义异动，并发现异动</li>
<li>横向分析，拆解维度，定位异动的主要原因，发现业务的可优化点</li>
</ol>
<h2 id="异动检测"><a href="#异动检测" class="headerlink" title="异动检测"></a>异动检测</h2><p>按照时间等纵向维度观察指标变化趋势，通过摸底分析定义指标异常波动；结合纵向分析，发现指标的异常波动。<br>常用异动检测方法：</p>
<ol>
<li><strong>算法</strong>：通过对时间序列形式的指标历史数据进行学习建模，预测指标的正常波动区间，超过区间的波动则视为异动。<ul>
<li>Holt-winters算法（三次指数滑动平均算法）</li>
<li>Prophet算法</li>
</ul>
</li>
<li><strong>规则</strong>：通过摸底分析，划定指标同环比的正常波动区间，超出区间的同环比波动则视为异动。如：<ul>
<li>指标A环比小于30%</li>
<li>指标B同比绝对值超过20%</li>
</ul>
</li>
</ol>
<h2 id="异动本质"><a href="#异动本质" class="headerlink" title="异动本质"></a>异动本质</h2><p>异动的本质在于<strong>比较</strong>，比较包含以下要点：</p>
<ol>
<li>评估指标：明确比较的业务指标</li>
<li>参照对象：界定参照对象的研究群体<ul>
<li>纵向：同一群体在不同时间里的比较分析</li>
<li>横向：同一时间不同群体之间的比较分析</li>
</ul>
</li>
<li>衡量方式：<ul>
<li>相对比较：参照对象的比值差异</li>
<li>绝对比较：参照对象的绝对差值</li>
</ul>
</li>
</ol>
<h2 id="横向归因"><a href="#横向归因" class="headerlink" title="横向归因"></a>横向归因</h2><p>发现指标异常波动后，先<strong>排外因</strong>，后<strong>定内因</strong>。</p>
<ol>
<li><strong>排外因</strong>：<ul>
<li>数据统计是否有误</li>
<li>产品或策略更新是否存在问题</li>
<li>相关政策&#x2F;规则是否变动</li>
<li>大促&#x2F;营销策略等影响</li>
<li>……</li>
</ul>
</li>
<li><strong>定内因</strong>：拆解维度进行横向分析，结合贡献度（贡献度计算方法见归因方法）等方法，定位异动的主要原因，发现存在的业务问题和可优化点。<ul>
<li>怎么拆：根据业务类型、业务流程、业务面临的实际问题聚焦，事前与业务同学充分讨论，捕捉业务动作、业务核心关注点灯关键信息。</li>
<li>拆多深：异动归因以解决业务问题为原则，定位到业务侧能有比较明确的改善落脚点（业务策略抓手）即可，切勿盲目下钻。</li>
</ul>
</li>
</ol>
<h2 id="方法选择"><a href="#方法选择" class="headerlink" title="方法选择"></a>方法选择</h2><p>也即贡献度计算方法。根据不同的指标类型，选择合适的贡献度计算方法。</p>
<table>
<thead>
<tr>
<th align="center">指标类型</th>
<th align="left">归因方法</th>
<th align="left">指标例子</th>
</tr>
</thead>
<tbody><tr>
<td align="center">加法指标</td>
<td align="left">Delta法</td>
<td align="left">DAU &#x3D; 新客DAU + 老客DAU <br> GMV &#x3D; 新客GMV + 老客GMV</td>
</tr>
<tr>
<td align="center">除法指标</td>
<td align="left">剔除法、占比加权法</td>
<td align="left">点击率 &#x3D; 点击次数 &#x2F; 曝光次数 <br> 满意度 &#x3D; 满意问卷量 &#x2F; 问卷提交量 <br> 好评率 &#x3D; 好评订单量 &#x2F; 评价订单量</td>
</tr>
<tr>
<td align="center">乘法指标</td>
<td align="left">LMDI法</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">—–</td>
<td align="left">—–</td>
<td align="left">—–</td>
</tr>
</tbody></table>
<ol>
<li><strong>加法指标</strong>：目标指标可以拆解为多个维度指标的加和（可加型量值类指标）。适用<strong>Delta法</strong>。</li>
<li><strong>除法指标</strong>：目标指标可以拆解为两个量值类指标相除（率值类指标）。适用<strong>剔除法</strong>、<strong>占比加权法</strong>（即组内组间拆解法）。</li>
<li><strong>乘法指标</strong>：目标指标可拆解为多个指标的乘积（流程链路类指标）。适用<strong>LMDI方法</strong>。</li>
</ol>
<p>一些变量和定义：</p>
<ul>
<li>目标指标：$Y$</li>
<li>波动类型：<ul>
<li>绝对波动：$\Delta Y &#x3D; Y^T - Y^0$</li>
<li>相对波动：$\Delta Y % &#x3D; \frac{\Delta Y}{Y^0} &#x3D; \frac{ Y^T - Y^0 }{Y^0}$</li>
</ul>
</li>
<li>贡献：<ul>
<li>$C_j$：因子$j$对绝对波动$\Delta Y$的贡献度（Contribution），$\sum_{j&#x3D;1}^n C_j &#x3D; 100%$</li>
<li>$V_j$：因子$j$对绝对波动$\Delta Y$的贡献值（Contribution Value），$V_j &#x3D; C_j \dot \Delta Y$，$\sum_{j&#x3D;1}^n V_j &#x3D; \Delta Y$</li>
<li>$RV_j$：因子$j$对相对波动$\Delta Y %$的贡献值，$\sum_{j&#x3D;1}^n RV_j &#x3D; \Delta Y %$</li>
</ul>
</li>
</ul>
<p>其中，$T$为对比期（当期），$0$为基期（上一期）。</p>
<h2 id="维度归因"><a href="#维度归因" class="headerlink" title="维度归因"></a>维度归因</h2><p>将指标在同一维度上进行拆解，计算各个因子对指标波动的贡献度，发现影响指标波动的主要原因（因子）。</p>
<ul>
<li>同向影响因子：对目标指标同向变动做出贡献的因子（因素）；贡献度为正的因子为同向影响因子</li>
<li>反向影响因子：对目标指标反向变动做出贡献的因子（因素）；贡献度为负的因子为反向影响因子</li>
</ul>
<h3 id="Delta法"><a href="#Delta法" class="headerlink" title="Delta法"></a>Delta法</h3><h3 id="剔除法"><a href="#剔除法" class="headerlink" title="剔除法"></a>剔除法</h3><h2 id="指标归因"><a href="#指标归因" class="headerlink" title="指标归因"></a>指标归因</h2><h3 id="乘法指标-Divisa分解法"><a href="#乘法指标-Divisa分解法" class="headerlink" title="乘法指标 - Divisa分解法"></a>乘法指标 - Divisa分解法</h3><p>目标指标$Y$受到多个因子的叠加影响。下面将使用<strong>指数分解方法</strong>，计算乘法指标中每个因子（维度）对目标指标的波动贡献。</p>
<p>首先对目标指标进行结构拆解（Divisia分解），以考虑到结构化变化对目标指标的影响（可以理解为维度拆解）。<br>$$Y &#x3D; \sum_{i&#x3D;1}^m Y_i &#x3D; Y_1 + Y_2 + \dots + Y_m$$</p>
<p>在每一个子类（sub-category）里，指标$Y_i$又受到$n$个因素的叠加影响。<br>$$<br>\begin{align}<br>Y &amp;&#x3D; \sum_{i&#x3D;1}^m Y_i &#x3D; Y_1 + Y_2 + \dots + Y_m \\<br>&amp;&#x3D; \sum_{i&#x3D;1}^m \sum_{j&#x3D;1}^n x_{j,i} &#x3D; \sum_{i&#x3D;1}^m x_{1,i} \cdot x_{2,i} \cdot \dots \cdot x_{n,i}<br>\end{align}<br>$$</p>
<p>将分解的各个因子（因素）看成是时间$t$的连续可微函数，对时间$t$进行微分，分解出各个因子（因素）对目标指标的影响。为了便于理解，假设基期为时间$0$，对比期（当期）为时间$T$。<br>首先，目标指标$Y$对时间$t$进行微分：<br>$$<br>\begin{aligned}<br>\frac{\mathrm{d} Y^t}{\mathrm{d} t} &amp;&#x3D; \frac{\mathrm{d} \sum_{i&#x3D;1}^m \sum_{j&#x3D;1}^n x_{j,i}}{\mathrm{d} t} \\<br>&amp;&#x3D; \sum_{i&#x3D;1}^m \sum_{j&#x3D;1}^n x_{1,i}^t x_{2,i}^t \dots x_{j-1,i}^t x_{j+1,i}^t \dots x_{n,i}^t \frac{\mathrm{d} x_{j,i}^t}{\mathrm{d} t} \\<br>&amp;&#x3D; \sum_{i&#x3D;1}^m \sum_{j&#x3D;1}^n \frac{Y_i^t}{x_{j,i}^t} \frac{\mathrm{d} x_{j,i}^t}{\mathrm{d} t} \\<br>&amp;&#x3D; \sum_{i&#x3D;1}^m \sum_{j&#x3D;1}^n Y_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t}<br>\end{aligned}<br>$$</p>
<ol>
<li><strong>加法分解</strong>：将目标指标的波动$\Delta$分解到各个因子上；上式等号两边同时对时间$t$进行积分<br> $$<br> \begin{align}<br> \Delta Y_{tot} &amp;&#x3D; Y^T - Y^0 \\<br> &amp;&#x3D; \sum_{j&#x3D;1}^n \Delta Y_{x_j} \\<br> &amp;&#x3D; \Delta Y_{x_1} + \Delta Y_{x_2} + \dots + \Delta Y_{x_n} \\<br> \int_0^T \frac{\mathrm{d} Y^t}{\mathrm{d} t} &amp;&#x3D; Y^T - Y^0 &#x3D; \Delta Y_{tot} \\<br> &amp;&#x3D; \sum_{j&#x3D;1}^n \int_0^T \sum_{i&#x3D;1}^m Y_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t} \\<br> \Delta Y_{x_j} &amp;&#x3D; \int_0^T \sum_{i&#x3D;1}^m Y_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t}<br> \end{align}<br> $$</li>
<li><strong>乘法分解</strong>：将目标指标的变化倍数$\mathrm{RATIO}$分解到各个因子上；上式等号两边同时除以$Y^t$，并对时间$t$进行积分，再对等号两边取指数$\exp$<br> $$<br> \begin{aligned}<br> D_{tot} &amp;&#x3D; \frac{Y^T}{Y^0} \\<br> &amp;&#x3D; \prod_{j&#x3D;1}^n D_{x_j} \\<br> &amp;&#x3D; D_{x_1} \cdot D_{x_2} \cdot \dots \cdot D_{x_n} \\<br> \int_0^T \frac{1}{Y^t} \frac{\mathrm{d} Y^t}{\mathrm{d} t} &amp;&#x3D; \int_0^T \frac{\mathrm{d} \ln Y^t}{\mathrm{d} t} \\<br> &amp;&#x3D; \ln Y^T - \ln Y^0 &#x3D; \ln\left( \frac{Y^T}{Y^0} \right) \\<br> &amp;&#x3D; \sum_{j&#x3D;1}^n \int_0^T \sum_{i&#x3D;1}^m \omega_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t}  \\<br> D_{tot} &amp;&#x3D; \prod_{j&#x3D;1}^n D_{x_j}^n \\<br> &amp;&#x3D; \exp{\left(\sum_{j&#x3D;1}^n \int_0^T \sum_{i&#x3D;1}^m \omega_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t}\right)} \\<br> &amp;&#x3D; \prod_{j&#x3D;1}^n \exp{\left( \sum_{i&#x3D;1}^m \omega_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t} \right)} \\<br> D_{x_j} &amp;&#x3D; \exp{\left( \sum_{i&#x3D;1}^m \omega_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t} \right)}<br> \end{aligned}<br> $$<br>其中，$tot$表示“total”，结构性变化、所有因子对目标指标的综合影响。</li>
</ol>
<p>Divisia分解后的公式，计算比较困难，通常采用近似计算。近似方法不同，则产生不同的分解结果。</p>
<h4 id="AMDI"><a href="#AMDI" class="headerlink" title="AMDI"></a>AMDI</h4><p>算术平均迪氏指数法（AMDI，Arithmetic Mean Divisia Index）：</p>
<ol>
<li><strong>加法分解</strong>：<br> $$<br> \begin{aligned}<br> \Delta Y_{x_j} &amp;&#x3D; \int_0^T \sum_{i&#x3D;1}^m Y_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t} \\<br> &amp;&#x3D; \sum_{i&#x3D;1}^m \frac{Y^T + Y^0}{2} \ln \left( \frac{x_{j,i}^T}{ x_{j,i}^0 } \right)<br> \end{aligned}<br> $$</li>
<li><strong>乘法分解</strong>：<br> $$<br> \begin{aligned}<br> D_{x_j} &amp;&#x3D; \exp{ \left( \sum_{i&#x3D;1}^m \omega_i^t \frac{ \mathrm{d} \ln x_{j,i}^t }{\mathrm{d} t} \right) } \\<br> &amp;&#x3D; \exp \left( \sum_{i&#x3D;1}^m \frac{ \omega_i^0 + \omega_i^T }{2} \left( \frac{x_{j,i}^T}{x_{j,i}^0} \right) \right)<br> \end{aligned}<br> $$</li>
</ol>
<h4 id="LMDI"><a href="#LMDI" class="headerlink" title="LMDI"></a>LMDI</h4><p>对数平均迪氏指数法（LMDI，Log Mean Divisia Index）：AMDI分解法存在残值问题，Ang等研究提出LMDI方法，改进AMDI的残值问题。</p>
<ol>
<li><strong>加法分解</strong>：<br> $$<br> \begin{aligned}<br> \Delta Y_{x_j} &amp;&#x3D; \int_0^T \sum_{i&#x3D;1}^m Y_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t} \\<br> &amp;&#x3D; \sum_{i&#x3D;1}^m L(Y_i^T, Y_i^0) \ln\left( \frac{x_{j,i}^T}{x_{j,i}^0} \right) \\<br> &amp;&#x3D; \sum_{i&#x3D;1}^m \frac{ Y_i^T - Y_i^0 }{ \ln Y_i^T - \ln Y_i^0 } \ln\left( \frac{x_{j,i}^T}{x_{j,i}^0} \right) \\<br> &amp;&#x3D; \sum_{i&#x3D;1}^m (Y_i^T - Y_i^0) \frac{\ln\left( \frac{x_{j,i}^T}{x_{j,i}^0} \right)}{\ln\left( \frac{Y_i^T}{Y_i^0} \right)}<br> \end{aligned}<br> $$<ul>
<li>因子$j$对相对波动$\Delta Y \% $的贡献值为<br> $RV_j &#x3D; \frac{Y_^T - Y^0}{ \ln Y^T - \ln Y^0 } \cdot \frac{\ln\left(\frac{x_j^T}{x_j^0}\right)}{Y^0}$</li>
<li>因子$j$对绝对波动$\Delta Y$的贡献度为 $C_j &#x3D; RV_j \cdot \frac{Y^0}{\Delta Y} &#x3D; \frac{\ln x_j^T - \ln x_j^0}{\ln Y^T - \ln Y^0}$</li>
</ul>
</li>
<li><strong>乘法分解</strong>：<br> $$<br> \begin{aligned}<br> D_{x_j} &amp;&#x3D; \exp{\left( \sum_{i&#x3D;1}^m \omega_i^t \frac{\mathrm{d} \ln x_{j,i}^t}{\mathrm{d} t} \right)} \\<br> &amp;&#x3D; \exp\left( \sum_{i&#x3D;1}^m \frac{L(Y_i^T Y_i^0)}{L(Y^T, Y^0)} \ln\left( \frac{x_{j,i}^T}{x_{j,i}^0} \right) \right) \\<br> &amp;&#x3D; \exp\left( \sum_{i&#x3D;1}^m \frac{Y_i^T - Y_i^0}{ \ln Y_i^T - \ln Y_i^0} &#x2F; \frac{Y^T - Y^0}{ \ln Y^T - \ln Y^0}  \ln\left( \frac{x_{j,i}^T}{x_{j,i}^0} \right)  \right)<br> \end{aligned}<br> $$</li>
</ol>
<p>对数平均函数为<br>$$<br>\begin{aligned}<br>L(a, b) &amp;&#x3D; \left\lbrace<br>\begin{array}{ll}<br>\frac{a - b}{\ln a - \ln b} &amp;, a \neq b \\<br>a &amp;, a &#x3D; b<br>\end{array}<br>\right.<br>\end{aligned}<br>$$<br>$$L(Y^T, Y^0) &#x3D; \frac{Y^T - Y^0}{ \ln Y^T - \ln Y^0}$$<br>$$L(Y_i^T, Y_i^0) &#x3D; \frac{Y_i^T - Y_i^0}{ \ln Y_i^T - \ln Y_i^0}$$</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>加载评论需要在浏览器启用 JavaScript 脚本支持。</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">首页</a></li>
        
          <li><a href="/about/">关于</a></li>
        
          <li><a href="/archives/">归档</a></li>
        
          <li><a href="/categories/">分类</a></li>
        
          <li><a href="/tags/">标签</a></li>
        
          <li><a href="/search/">搜索</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E8%BF%87%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">分析过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%8A%A8%E6%A3%80%E6%B5%8B"><span class="toc-number">2.</span> <span class="toc-text">异动检测</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%8A%A8%E6%9C%AC%E8%B4%A8"><span class="toc-number">3.</span> <span class="toc-text">异动本质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%AA%E5%90%91%E5%BD%92%E5%9B%A0"><span class="toc-number">4.</span> <span class="toc-text">横向归因</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%80%89%E6%8B%A9"><span class="toc-number">5.</span> <span class="toc-text">方法选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%B4%E5%BA%A6%E5%BD%92%E5%9B%A0"><span class="toc-number">6.</span> <span class="toc-text">维度归因</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Delta%E6%B3%95"><span class="toc-number">6.1.</span> <span class="toc-text">Delta法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%94%E9%99%A4%E6%B3%95"><span class="toc-number">6.2.</span> <span class="toc-text">剔除法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E6%A0%87%E5%BD%92%E5%9B%A0"><span class="toc-number">7.</span> <span class="toc-text">指标归因</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%98%E6%B3%95%E6%8C%87%E6%A0%87-Divisa%E5%88%86%E8%A7%A3%E6%B3%95"><span class="toc-number">7.1.</span> <span class="toc-text">乘法指标 - Divisa分解法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AMDI"><span class="toc-number">7.1.1.</span> <span class="toc-text">AMDI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LMDI"><span class="toc-number">7.1.2.</span> <span class="toc-text">LMDI</span></a></li></ol></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&text=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&is_video=false&description=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Data Analysis | Attribution of Indicator Variation&body=Check out this article: https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&title=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&name=Data Analysis | Attribution of Indicator Variation&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://github.com/wst-wst/wst-wst.github.io/IndicatorVariationAttribution.html&t=Data Analysis | Attribution of Indicator Variation"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> 菜单</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> 目录</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> 分享</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> 返回顶部</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2024-2025
    wst
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">首页</a></li><!--
     --><!--
       --><li><a href="/about/">关于</a></li><!--
     --><!--
       --><li><a href="/archives/">归档</a></li><!--
     --><!--
       --><li><a href="/categories/">分类</a></li><!--
     --><!--
       --><li><a href="/tags/">标签</a></li><!--
     --><!--
       --><li><a href="/search/">搜索</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"复制到粘贴板！\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "复制成功！");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

  <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?e093931b8d89832f40cfddaae0ca6acf";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'wst-wst';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>

<!-- utterances Comments -->

</body>
</html>
